### ThingsBoard CE v4.2.1.1 (Dec 24, 2025)

Patch release with the following bug fixes:

**What's Changed**

* Core & Rule Engine

  * [#14211](https://github.com/thingsboard/thingsboard/pull/14211) Fixed redundant credentials update event and device reconnect on bulk import by @AndriiLandiak
  * [#14235](https://github.com/thingsboard/thingsboard/pull/14235) Added validation that prohibits last tenant admin deletion by @dashevchenko
  * [#14062](https://github.com/thingsboard/thingsboard/pull/14062) Fixed check of pre-provisioned devices by @dashevchenko
  * [#14179](https://github.com/thingsboard/thingsboard/pull/14179) Fixed firmware update when the OTA package has a URL instead of a file by @dashevchenko
  * [#14209](https://github.com/thingsboard/thingsboard/pull/14209) Fixed error when using resources and templatization with GitHub Models AI provider by @dashevchenko
  * [#14245](https://github.com/thingsboard/thingsboard/pull/14245) Fixed some tenant admins not displayed in related group with EDQS by @dashevchenko
  * [#14457](https://github.com/thingsboard/thingsboard/pull/14457) Fixed XSS vulnerability for some entities by @dashevchenko
  * [#14487](https://github.com/thingsboard/thingsboard/pull/14487) Fixed invalid alarm status subscription updates by @dashevchenko
  * [#13836](https://github.com/thingsboard/thingsboard/pull/13836) Fixed NPE when evaluating dynamic duration rules in device profile node by @dskarzh
  * [#14244](https://github.com/thingsboard/thingsboard/pull/14244) Improved support of customer-owned entities in `customer attributes` and `change originator` rule nodes by @dskarzh
  * [#14467](https://github.com/thingsboard/thingsboard/pull/14467) Updated AI models autocomplete options by @dskarzh
  * [#14195](https://github.com/thingsboard/thingsboard/pull/14195) Fixed incorrect CF calculation when same key is used across multiple arguments by @irynamatveieva
  * [#14526](https://github.com/thingsboard/thingsboard/pull/14526) Fixed timestamp handling for calculated field arguments with missing telemetry by @irynamatveieva
  * [#14623](https://github.com/thingsboard/thingsboard/pull/14623) Fixed processing of telemetry batch in calculated fields by @irynamatveieva
  * [#14499](https://github.com/thingsboard/thingsboard/pull/14499) Fixed last update ts handling for CF arguments by @ShvaykaD
  * [#14536](https://github.com/thingsboard/thingsboard/pull/14536) Fixed key dictionary race condition causing Hibernate to cache zero keyId in cluster mode by @ShvaykaD
  * [#14264](https://github.com/thingsboard/thingsboard/pull/14264) Improve task cancellation handling in task manager by @ViacheslavKlimov
  * [#14479](https://github.com/thingsboard/thingsboard/pull/14479) Fixed vulnerabilities by @ViacheslavKlimov
  * [#14572](https://github.com/thingsboard/thingsboard/pull/14572) Fixed and improved CF states restore by @ViacheslavKlimov
  * [#14587](https://github.com/thingsboard/thingsboard/pull/14587) Fixed Kafka topics cache by @ViacheslavKlimov

* Transports

  * [#14327](https://github.com/thingsboard/thingsboard/pull/14327) Fixed occasional application startup failure due to SNMP transport init by @artem-barysh-dev
  * [#14407](https://github.com/thingsboard/thingsboard/pull/14407) Added ACK when Gateway connect goes wrong by @artem-barysh-dev
  * [#14241](https://github.com/thingsboard/thingsboard/pull/14241) Fixed firmware update by URL for LwM2M by @nickAS21
  * [#14294](https://github.com/thingsboard/thingsboard/pull/14294) Fixed observe after reboot without unregistration for LwM2M by @nickAS21
  * [#14403](https://github.com/thingsboard/thingsboard/pull/14403) Fixed NPE after reboot if sleep for LwM2M by @nickAS21
  * [#14624](https://github.com/thingsboard/thingsboard/pull/14624) Fixed tb-node startup when MQTT SSL enabled but MQTT transport disabled by @smatvienko-tb

* Edge

  * [#14461](https://github.com/thingsboard/thingsboard/pull/14461) Fixed customer unassignments in the dashboard during edge event processing by @MazurenkoNick
  * [#14613](https://github.com/thingsboard/thingsboard/pull/14613) Fixed events from different edges being mixed together in one queue by @MazurenkoNick
  * [#14425](https://github.com/thingsboard/thingsboard/pull/14425) Fixed dead Kafka consumer groups causing Edge sync failures by @volodymyr-babak
  * [#14616](https://github.com/thingsboard/thingsboard/pull/14616) Fixed infinite loop on Edge Kafka consumer commit failure by @volodymyr-babak

* UI

  * [#14481](https://github.com/thingsboard/thingsboard/pull/14481) Fixed check connectivity request for AI models by @ArtemDzhereleiko
  * [#14396](https://github.com/thingsboard/thingsboard/pull/14396) Fixed TinyMCE out-positioned image source by @deaflynx
  * [#14377](https://github.com/thingsboard/thingsboard/pull/14377) Fixed JS module file encoding to include handling of special symbols by @DmytroKhylko
  * [#14134](https://github.com/thingsboard/thingsboard/pull/14134) Fixed filtering entity and alarm tables by @LeoMorgan113
  * [#14022](https://github.com/thingsboard/thingsboard/pull/14022) Fixed validation for "Email" fields by @mtsymbarov-del
  * [#14048](https://github.com/thingsboard/thingsboard/pull/14048) Added ability to access logout button when hide toolbar option is enabled on dashboard by @mtsymbarov-del
  * [#14085](https://github.com/thingsboard/thingsboard/pull/14085) Fixed dialogs adjusting to the screen resolution by @mtsymbarov-del
  * [#14091](https://github.com/thingsboard/thingsboard/pull/14091) Added support for custom translations in LED Indicator widget title by @mtsymbarov-del
  * [#14092](https://github.com/thingsboard/thingsboard/pull/14092) Fixed i18n custom translation in Attributes Card widget in data post-processing function by @mtsymbarov-del
  * [#14140](https://github.com/thingsboard/thingsboard/pull/14140) Fixed widget entity alias empty entity list field by @mtsymbarov-del
  * [#14143](https://github.com/thingsboard/thingsboard/pull/14143) Added alarm type list key translations by @mtsymbarov-del
  * [#14151](https://github.com/thingsboard/thingsboard/pull/14151) Added support for custom translations in the dashboard user filters dialog by @mtsymbarov-del
  * [#14185](https://github.com/thingsboard/thingsboard/pull/14185) Added draggable overlay option on map widget settings by @mtsymbarov-del
  * [#14248](https://github.com/thingsboard/thingsboard/pull/14248) Fixed misspelling in Entity views Time series data section by @mtsymbarov-del
  * [#14261](https://github.com/thingsboard/thingsboard/pull/14261) Fixed subscriptSizing of phone input by @mtsymbarov-del
  * [#14296](https://github.com/thingsboard/thingsboard/pull/14296) Fixed typo in get queue statistics request method by @mtsymbarov-del
  * [#14297](https://github.com/thingsboard/thingsboard/pull/14297) Fixed deleted user IDs remaining in Notification recipient user list by @mtsymbarov-del
  * [#14298](https://github.com/thingsboard/thingsboard/pull/14298) Fixed parse function calling for control widgets by @mtsymbarov-del
  * [#14569](https://github.com/thingsboard/thingsboard/pull/14569) Fixed profile saves triggers the saved configuration without changes by @mtsymbarov-del
  * [#14615](https://github.com/thingsboard/thingsboard/pull/14615) Fixed mutation in mergeDeepIgnoreArray function by @mtsymbarov-del
  * [#14392](https://github.com/thingsboard/thingsboard/pull/14392) Fixed incorrect error height of timeout message by @vvlladd28
  * [#14243](https://github.com/thingsboard/thingsboard/pull/14243) Updated Lietuvi≈≥ (Lithuanian) translation by @vvlladd28
  * [#14254](https://github.com/thingsboard/thingsboard/pull/14254) Added show GitHub button to main toolbar by @vvlladd28
  * [#14443](https://github.com/thingsboard/thingsboard/pull/14443) Fixed show duration in alarm details dialog by @vvlladd28
  * [#14480](https://github.com/thingsboard/thingsboard/pull/14480) Fixed vulnerabilities by @vvlladd28
  * [#14574](https://github.com/thingsboard/thingsboard/pull/14574) Updated translations by @vvlladd28

**Full Changelog**: [https://github.com/thingsboard/thingsboard/compare/v4.2.1...v4.2.1.1](https://github.com/thingsboard/thingsboard/compare/v4.2.1...v4.2.1.1)


### ThingsBoard CE v4.2.1 (Oct 15, 2025)

Minor release with the following bug fixes and improvements:

**What's Changed**

* Core & Rule Engine

  * [#14068](https://github.com/thingsboard/thingsboard/pull/14068) AI Request Node: ability to attach files by @dashevchenko
  * [#14014](https://github.com/thingsboard/thingsboard/pull/14014) AI models: support for local AI models via Ollama by @dskarzh
  * [#14076](https://github.com/thingsboard/thingsboard/pull/14076) AI models: ability to change base URL to OpenAI by @dskarzh
  * [#14131](https://github.com/thingsboard/thingsboard/pull/14131) Fixed vulnerabilities by @ViacheslavKlimov

* UI

  * [#14072](https://github.com/thingsboard/thingsboard/pull/14072) Added 'General' resource type and entity list for AI rule node by @ArtemDzhereleiko
  * [#14066](https://github.com/thingsboard/thingsboard/pull/14066) Added support for UTF-8 symbols in export file name by @vvlladd28
  * [#13373](https://github.com/thingsboard/thingsboard/pull/13373) Added tooltip settings option to also show total value in stacked timeseries charts by @pgrisu
  * [#13350](https://github.com/thingsboard/thingsboard/pull/13350) Latest chart widgets: added setting to show total value in legend by @pgrisu
  * [#14083](https://github.com/thingsboard/thingsboard/pull/14083) Markdown widget: hide unused data settings block in configuration by @vvlladd28

* Bug Fixes

  * [#14037](https://github.com/thingsboard/thingsboard/pull/14037) Fixed API usage cycle reset by @dashevchenko
  * [#13941](https://github.com/thingsboard/thingsboard/pull/13941) Fixed occasional duplicated CF evaluations after TB restart by @irynamatveieva
  * [#14046](https://github.com/thingsboard/thingsboard/pull/14046) Fixed missing entity values in exported alarm data widget by @dashevchenko
  * [#14081](https://github.com/thingsboard/thingsboard/pull/14081) Fixed hidden options displaying when switching between Realtime and History in Timewindow by @ChantsovaEkaterina
  * [#13952](https://github.com/thingsboard/thingsboard/pull/13952) Fixed AI models help link by @ArtemDzhereleiko
  * [#13898](https://github.com/thingsboard/thingsboard/pull/13898) Fixed response format issue for AI rule node by @ArtemDzhereleiko
  * [#14027](https://github.com/thingsboard/thingsboard/pull/14027) Fixed XSS vulnerabilities in the Rule node by @mtsymbarov-del
  * [#13948](https://github.com/thingsboard/thingsboard/pull/13948) Fixed user name field retrieval in EDQS by @dashevchenko
  * [#14070](https://github.com/thingsboard/thingsboard/pull/14070) Fixed PUBACK not sent if publishing failed or duplicated if message contains multiple devices by @dashevchenko

**Full Changelog**: [https://github.com/thingsboard/thingsboard/compare/v4.2...v4.2.1](https://github.com/thingsboard/thingsboard/compare/v4.2...v4.2.1)

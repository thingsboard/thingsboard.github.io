{% assign collectionMap = include.collectionMap %}
{% assign settings = include.settings | jsonify %}

{% if site.data.carousel-collection.use-cases[include.collectionMap] %}
    {% assign carouselCollection = site.data.carousel-collection.use-cases[include.collectionMap] %}
{% elsif site.data.carousel-collection[include.collectionMap] %}
    {% assign carouselCollection = site.data.carousel-collection[include.collectionMap] %}
{% else %}
    {% assign carouselCollection = page[include.collectionMap] %}
{% endif %}

{% assign defaultSettings = '{
    "items": 1,
    "stagePadding": 50,
    "margin": 100
}' %}

{% if settings == 'null' or settings == '""' %}
    {% assign settings = defaultSettings %}
{% endif %}

<div class="usecase-carousel owl-carousel owl-theme transitionAnimationEnabled nonActiveItemsVisibilityTrue thinArrow line" data-settings='{{ settings }}'>
    {% for carouselItem in carouselCollection %}
        <div class="carousel-image">
            <img class="owl-lazy" data-src="{{ carouselItem[1].src }}" alt="{{ carouselItem[1].alt }}">
        </div>
    {% endfor %}
</div>


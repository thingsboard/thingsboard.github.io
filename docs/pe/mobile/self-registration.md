---
layout: docwithnav-mobile-pe
title: Configure Self-registration in ThingsBoard PE Mobile Application

self-registration:
 0:
  image: /images/mobile/pe/self-registration-1.png
  title: 'Check <b>Enable self registration from mobile application</b> checkbox'
 1:
  image: /images/mobile/pe/self-registration-2.png
  title: 'Specify you application package (For Android: your own unique Application ID. For iOS: Product bundle identifier.)<br>Remember autogenerated <b>Application secret</b> or input your own secret.'
 2:
  image: /images/mobile/pe/self-registration-3.png
  title: 'Specify <b>Application URL scheme</b> - can be any short string (for ex. myappscheme)'
 3:
  image: /images/mobile/pe/self-registration-4.png
  title: 'Specify <b>Application URL hostname</b> - usually application id in reverse order (for ex. myapp.mydomain.org)'
 4:
  image: /images/mobile/pe/self-registration-5.png
  title: 'Finally, to apply changes click <b>Save</b> button in bottom right corner of Self Registration form'

---

ThingsBoard PE Mobile Application provides self-registration support. The mobile app with self-registration enabled provides a registration form allowing to sign up new customer users.
It can be configured in **Self Registration** settings form by Tenant administrator user.
See [self-registration](/docs/pe/user-guide/self-registration/) to understand general Self registration configuration.
In order to enable self-registration in mobile app you should enable and configure it in the **Mobile application self registration settings** section of Self Registration settings form:

1. As a Tenant administrator user Go to **System Settings** -> **Self Registration**;
2. Check **Enable self registration from mobile application** checkbox;
3. Specify you application package (For Android: your own unique Application ID. For iOS: Product bundle identifier.);
4. Remember autogenerated **Application secret** or input your own secret;
5. Specify **Application URL scheme** - can be any short string (for ex. myappscheme);
6. Specify **Application URL hostname** - usually application id in reverse order (for ex. myapp.mydomain.org);
7. Finally, to apply changes click **Save** button in bottom right corner of Self Registration form;

{% include images-gallery.html imageCollection="self-registration" %}

Additionally, you should modify your mobile app constants.
Open **flutter_thingsboard_pe_app** project in your editor/IDE. Edit **lib/constants/app_constants.dart**.

Set value of **thingsboardSignUpAppSecret** constant to value of **Application secret** field:

```dart
abstract class ThingsboardAppConstants {
  ...

  static final thingsboardSignUpAppSecret = 'Your sign up app secret here';
}

```

{% capture self_register_domain %}
**Note:** Domain name used in **thingsBoardApiEndpoint** constant should match to the **Domain name** configured in Self Registration settings form.
{% endcapture %}
{% include templates/info-banner.md content=self_register_domain %}

Finally, the following changes should be performed to enable activation link processing by mobile app:

1. For Android:

    Edit **android/app/src/main/AndroidManifest.xml**, find and set scheme and host of browsable intent filter of the **MainActivity**.
    Set value of **android:scheme** to the value of **Application URL scheme** field, set value of **android:host** to the value of **Application URL hostname** field:

    ```xml
      ...
        <activity
                android:name=".MainActivity"

                ...

                <intent-filter>
                    <action android:name="android.intent.action.VIEW" />
                    <category android:name="android.intent.category.DEFAULT" />
                    <category android:name="android.intent.category.BROWSABLE" />
                    <data android:scheme="value of Application URL scheme field" android:host="value of Application URL hostname field"/>
                </intent-filter>

        </activity>
      ...
    ```

2. For iOS:

    Edit **ios/Runner/Info-Debug.plist** and **ios/Runner/Info-Release.plist** files, find **CFBundleURLTypes** array property.
    Set string value of **CFBundleURLName** property to the value of **Application URL hostname** field,
    set value of string array property **CFBundleURLSchemes** to the value of **Application URL scheme** field:

    ```xml
      ...
        <key>CFBundleURLTypes</key>
        <array>
            <dict>
            <key>CFBundleTypeRole</key>
            <string>Editor</string>
            <key>CFBundleURLName</key>
            <string>value of Application URL hostname field</string>
            <key>CFBundleURLSchemes</key>
            <array>
            <string>value of Application URL scheme field</string>
            </array>
            </dict>
        </array>
      ...
    ```

To verify your Self registration setup run the mobile app.
You should see **Create account** link in the bottom of login form. After clicking on **Create account** link you should be directed to sign up form.
If your setup is correct you should be able to perform sign up and activate account with mobile app when click on activation link from email within mobile phone.

<br>

<div style="display: flex;">
    <div class="mobile-frame ios">
        <div class="phone-shadow right"></div>
        <div class="frame-image">
            <img src="/images/mobile/pe/self-registration-frame.png" alt="self registration frame">
        </div>
        <div class="frame-video">
            <video autoplay loop preload="auto" muted playsinline>
                 <source src="https://video.thingsboard.io/mobile/pe/self-registration.mp4" type="video/mp4">
                 <source src="https://video.thingsboard.io/mobile/pe/self-registration.webm" type="video/webm">
            </video>
        </div>
    </div>
</div>

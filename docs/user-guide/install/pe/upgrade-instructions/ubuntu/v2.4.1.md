---
layout: docwithnav-pe
title: Upgrade to v2.4.1 (Ubuntu)
description: ThingsBoard PE upgrade guide for Ubuntu - v2.4.1
hidetoc: "true"
breadcrumbs: "true"
breadcrumbs-steps: "2"
breadcrumbs-show: "2"
---

### Ubuntu

#### ThingsBoard PE package download

```shell
wget https://dist.thingsboard.io/thingsboard-2.4.1pe.deb
```
{: .copy-code}
  

#### ThingsBoard PE service upgrade

* Stop ThingsBoard service if it is running.

```bash
sudo service thingsboard stop
```
{: .copy-code}

* Install Thingsboard Web Report component as described [here](/docs/user-guide/install/pe/ubuntu/#step-8-install-thingsboard-webreport-component).


```shell
sudo dpkg -i thingsboard-2.4.1pe.deb
```
{: .copy-code}
  

**NOTE:** Package installer will ask you to merge your thingsboard configuration. It is preferred to use **merge option** to make sure that all your previous parameters will not be overwritten.  
Please make sure that you set **database.entities.type** and **database.ts.type** parameters values (in the file **/etc/thingsboard/conf/thingsboard.yml**) to "cassandra" instead of "sql" in order to upgrade your cassandra database:
 
```
    database:
      entities:
        type: "${DATABASE_ENTITIES_TYPE:cassandra}" # cassandra OR sql
      ts:
        type: "${DATABASE_TS_TYPE:cassandra}" # cassandra OR sql (for hybrid mode, only this value should be cassandra)
```

Execute upgrade script
```bash
sudo /usr/share/thingsboard/bin/install/upgrade.sh --fromVersion=2.4.0 
```
{: .copy-code}

#### Start the service

```bash
sudo service thingsboard start
```
{: .copy-code}

---
layout: docwithnav
title: ThingsBoard CE v3.4.x upgrade instructions for Docker Compose
description: ThingsBoard CE v3.4.x upgrade guide for Docker Compose
active-menu-item-click: "true"
breadcrumbs: true
breadcrumbs-steps: 2
breadcrumbs-show: 2
effective-url: '/docs/user-guide/install/upgrade-instructions/'
---

* TOC
{:toc}

### Upgrading ThingsBoard CE to 3.4.4

{% capture difference %}
**NOTE:**
<br>
These upgrade steps are applicable for ThingsBoard version 3.4.3. In order to upgrade to 3.4.4 you need to [**upgrade to 3.4.3 first**](#upgrading-thingsboard-ce-to-343).
{% endcapture %}
{% include templates/info-banner.md content=difference %}

#### ThingsBoard service upgrade

1. Change the parameter `TB_VERSION` in the `.env` file.

  ```.env
  TB_VERSION=3.4.4
  ```

2. Execute the following commands:

  ```bash
  ./docker-stop-services.sh
  ./docker-start-services.sh
  ```
  {: .copy-code}

### Upgrading ThingsBoard CE to 3.4.3

{% capture difference %}
**NOTE:**
<br>
These upgrade steps are applicable for ThingsBoard version 3.4.2. In order to upgrade to 3.4.3 you need to [**upgrade to 3.4.2 first**](#upgrading-thingsboard-ce-to-342).
{% endcapture %}
{% include templates/info-banner.md content=difference %}

#### ThingsBoard service upgrade

1. Change the parameter `TB_VERSION` in the `.env` file.

  ```.env
  TB_VERSION=3.4.3
  ```

2. Execute the following commands:

  ```bash
  ./docker-stop-services.sh
  ./docker-start-services.sh
  ```
  {: .copy-code}

### Upgrading ThingsBoard CE to 3.4.2

{% capture difference %}
**NOTE:**
<br>
These upgrade steps are applicable for ThingsBoard version 3.4.1. In order to upgrade to 3.4.2 you need to [**upgrade to 3.4.1 first**](#upgrading-thingsboard-ce-to-341).
{% endcapture %}
{% include templates/info-banner.md content=difference %}

{% capture update_manifests_note %}
We strongly recommend that you also update your Docker Compose deployment manifests to [**the latest available version from GitHub repository**](https://github.com/thingsboard/thingsboard/tree/master/docker) with every ThingsBoard upgrade. This ensures your ThingsBoard service runs with the latest best-practice parameters and configurations, while also guarantees that all required services are correctly deployed to support the newest features introduced in the release.
<br>
<br>
If you are running older releases of ThingsBoard - be aware that the manifests in `master` branch of the repository may contain configurations for features that are not available in your specific version. Always ensure that manifests are compatible with your target ThingsBoard version while merging deployment files.
{% endcapture %}
{% include templates/warn-banner.md content=update_manifests_note %}

#### ThingsBoard service upgrade

{% include docs/user-guide/install/docker-compose-upgrade-steps-fromversion.md version="3.4.2" fromversion="3.4.1" %}

{% capture default-jwt %}
Update the JWT signing key if you use the default one "thingsboardDefaultSigningKey" on production environments. See [JWT security settings](/docs/user-guide/ui/security-settings/#jwt-security-settings) for details.
{% endcapture %}
{% include templates/info-banner.md content=default-jwt %}

### Upgrading ThingsBoard CE to 3.4.1

{% capture difference %}
**NOTE:**
<br>
These upgrade steps are applicable for ThingsBoard version 3.4. In order to upgrade to 3.4.1 you need to [**upgrade to 3.4 first**](#upgrading-thingsboard-ce-to-34).
{% endcapture %}
{% include templates/info-banner.md content=difference %}

{% capture update_manifests_note %}
We strongly recommend that you also update your Docker Compose deployment manifests to [**the latest available version from GitHub repository**](https://github.com/thingsboard/thingsboard/tree/master/docker) with every ThingsBoard upgrade. This ensures your ThingsBoard service runs with the latest best-practice parameters and configurations, while also guarantees that all required services are correctly deployed to support the newest features introduced in the release.
<br>
<br>
If you are running older releases of ThingsBoard - be aware that the manifests in `master` branch of the repository may contain configurations for features that are not available in your specific version. Always ensure that manifests are compatible with your target ThingsBoard version while merging deployment files.
{% endcapture %}
{% include templates/warn-banner.md content=update_manifests_note %}

#### ThingsBoard service upgrade

{% include docs/user-guide/install/docker-compose-upgrade-steps-fromversion.md version="3.4.1" fromversion="3.4.0" %}

### Upgrading ThingsBoard CE to 3.4

{% capture difference %}
**NOTE:**
<br>
These upgrade steps are applicable for ThingsBoard version 3.3.4.1. In order to upgrade to 3.4 you need to [**upgrade to 3.3.4.1 first**](/docs/user-guide/install/upgrade-instructions/docker-compose/v3-3-x/#upgrading-thingsboard-ce-to-3341).
{% endcapture %}
{% include templates/info-banner.md content=difference %}

{% capture update_manifests_note %}
We strongly recommend that you also update your Docker Compose deployment manifests to [**the latest available version from GitHub repository**](https://github.com/thingsboard/thingsboard/tree/master/docker) with every ThingsBoard upgrade. This ensures your ThingsBoard service runs with the latest best-practice parameters and configurations, while also guarantees that all required services are correctly deployed to support the newest features introduced in the release.
<br>
<br>
If you are running older releases of ThingsBoard - be aware that the manifests in `master` branch of the repository may contain configurations for features that are not available in your specific version. Always ensure that manifests are compatible with your target ThingsBoard version while merging deployment files.
{% endcapture %}
{% include templates/warn-banner.md content=update_manifests_note %}

#### ThingsBoard service upgrade

{% include docs/user-guide/install/docker-compose-upgrade-steps-fromversion.md version="3.4.0" fromversion="3.3.4" %}